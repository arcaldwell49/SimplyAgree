<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Simulate Deming Regression Power — deming_power • SimplyAgree</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simulate Deming Regression Power — deming_power"><meta name="description" content="
Functions for conducting power analysis and sample size determination for Deming regression
in method comparison studies. These functions help determine the sample size needed to
detect specified biases (proportional and/or constant) between two measurement methods.
Estimates statistical power to detect deviations from the line of identity using
simulated data with known properties."><meta property="og:description" content="
Functions for conducting power analysis and sample size determination for Deming regression
in method comparison studies. These functions help determine the sample size needed to
detect specified biases (proportional and/or constant) between two measurement methods.
Estimates statistical power to detect deviations from the line of identity using
simulated data with known properties."><meta property="og:image" content="https://aaroncaldwell.us/SimplyAgree/images/sticker.png"><meta property="og:image:alt" content="SimplyAgree logo"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SimplyAgree</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/agree_tests.html">Agreement Tests</a></li>
    <li><a class="dropdown-item" href="../articles/agreement_analysis.html">Agreement &amp; Tolerance Limits</a></li>
    <li><a class="dropdown-item" href="../articles/Deming.html">Deming Regression</a></li>
    <li><a class="dropdown-item" href="../articles/power_sample_size_vignette.html">Power Analysis and Sample Size Determination for Agreement Studies</a></li>
    <li><a class="dropdown-item" href="../articles/reanalysis.html">Re-analysis of an Agreement Study</a></li>
    <li><a class="dropdown-item" href="../articles/reliability_analysis.html">Reliability Analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/arcaldwell49/SimplyAgree/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Simulate Deming Regression Power</h1>
      <small class="dont-index">Source: <a href="https://github.com/arcaldwell49/SimplyAgree/blob/HEAD/R/deming_power.R" class="external-link"><code>R/deming_power.R</code></a></small>
      <div class="d-none name"><code>deming_power.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>Functions for conducting power analysis and sample size determination for Deming regression
in method comparison studies. These functions help determine the sample size needed to
detect specified biases (proportional and/or constant) between two measurement methods.</p>
<p>Estimates statistical power to detect deviations from the line of identity using
simulated data with known properties.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">deming_power_sim</span><span class="op">(</span></span>
<span>  n_sims <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  sample_size <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  x_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>  x_dist <span class="op">=</span> <span class="st">"uniform"</span>,</span>
<span>  actual_slope <span class="op">=</span> <span class="fl">1.05</span>,</span>
<span>  actual_intercept <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  ideal_slope <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  ideal_intercept <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  y_var_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>beta1 <span class="op">=</span> <span class="fl">1</span>, beta2 <span class="op">=</span> <span class="fl">0</span>, J <span class="op">=</span> <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"constant"</span><span class="op">)</span>,</span>
<span>  x_var_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>beta1 <span class="op">=</span> <span class="fl">1</span>, beta2 <span class="op">=</span> <span class="fl">0</span>, J <span class="op">=</span> <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"constant"</span><span class="op">)</span>,</span>
<span>  weighted <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  conf.level <span class="op">=</span> <span class="fl">0.95</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-n-sims">n_sims<a class="anchor" aria-label="anchor" href="#arg-n-sims"></a></dt>
<dd><p>Number of simulation iterations. Default is 1000.</p></dd>


<dt id="arg-sample-size">sample_size<a class="anchor" aria-label="anchor" href="#arg-sample-size"></a></dt>
<dd><p>Sample size (number of paired observations) per simulation.</p></dd>


<dt id="arg-x-range">x_range<a class="anchor" aria-label="anchor" href="#arg-x-range"></a></dt>
<dd><p>Numeric vector of length 2 specifying min and max of X values (e.g., c(10, 100)).</p></dd>


<dt id="arg-x-dist">x_dist<a class="anchor" aria-label="anchor" href="#arg-x-dist"></a></dt>
<dd><p>Character specifying distribution of X values: "uniform", "central", or "right_skewed".</p></dd>


<dt id="arg-actual-slope">actual_slope<a class="anchor" aria-label="anchor" href="#arg-actual-slope"></a></dt>
<dd><p>Actual slope used to generate data (e.g., 1.05 for 5% proportional bias).</p></dd>


<dt id="arg-actual-intercept">actual_intercept<a class="anchor" aria-label="anchor" href="#arg-actual-intercept"></a></dt>
<dd><p>Actual intercept used to generate data.</p></dd>


<dt id="arg-ideal-slope">ideal_slope<a class="anchor" aria-label="anchor" href="#arg-ideal-slope"></a></dt>
<dd><p>Hypothesized slope to test against (typically 1 for identity line).</p></dd>


<dt id="arg-ideal-intercept">ideal_intercept<a class="anchor" aria-label="anchor" href="#arg-ideal-intercept"></a></dt>
<dd><p>Hypothesized intercept to test against (typically 0 for identity line).</p></dd>


<dt id="arg-y-var-params">y_var_params<a class="anchor" aria-label="anchor" href="#arg-y-var-params"></a></dt>
<dd><p>List with Y variance parameters: beta1, beta2, J, type.
Type can be "constant", "proportional", or "power".
For power function: sigma^2 = (beta1 + beta2*U)^J</p></dd>


<dt id="arg-x-var-params">x_var_params<a class="anchor" aria-label="anchor" href="#arg-x-var-params"></a></dt>
<dd><p>List with X variance parameters (same structure as y_var_params).</p></dd>


<dt id="arg-weighted">weighted<a class="anchor" aria-label="anchor" href="#arg-weighted"></a></dt>
<dd><p>Logical. Use weighted Deming regression? Default is FALSE.</p></dd>


<dt id="arg-conf-level">conf.level<a class="anchor" aria-label="anchor" href="#arg-conf-level"></a></dt>
<dd><p>Confidence level for tests. Default is 0.95.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of class "deming_power" containing:</p>
<dl><dt>power_ci_slope</dt>
<dd><p>Power based on slope confidence interval</p></dd>

<dt>power_ci_intercept</dt>
<dd><p>Power based on intercept confidence interval</p></dd>

<dt>power_either_ci</dt>
<dd><p>Power when either CI detects difference</p></dd>

<dt>power_joint</dt>
<dd><p>Power based on joint confidence region</p></dd>

<dt>settings</dt>
<dd><p>List of simulation settings</p></dd>

<dt>advantage</dt>
<dd><p>Difference in power between joint region and CIs</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Power Analysis for Deming Regression</p>
<p>This function generates simulated datasets with specified error characteristics and
tests whether confidence intervals and joint confidence regions detect deviations
from hypothesized values. The joint confidence region typically provides higher
statistical power, especially when the X-range is narrow (high slope-intercept correlation).</p>
<p>The variance functions allow flexible modeling of heteroscedastic errors:</p><ul><li><p>constant: sigma^2 = beta1</p></li>
<li><p>proportional: sigma^2 = beta1 * U^2 (constant CV%)</p></li>
<li><p>power: sigma^2 = (beta1 + beta2*U)^J</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Sadler, W.A. (2010). Joint parameter confidence regions improve the power of parametric
regression in method-comparison studies. Accreditation and Quality Assurance, 15, 547-554.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Simple example: detect 5% proportional bias with constant variance</span></span></span>
<span class="r-in"><span><span class="va">power_result</span> <span class="op">&lt;-</span> <span class="fu">deming_power_sim</span><span class="op">(</span></span></span>
<span class="r-in"><span>  n_sims <span class="op">=</span> <span class="fl">500</span>,</span></span>
<span class="r-in"><span>  sample_size <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  x_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  actual_slope <span class="op">=</span> <span class="fl">1.05</span>,</span></span>
<span class="r-in"><span>  ideal_slope <span class="op">=</span> <span class="fl">1.0</span>,</span></span>
<span class="r-in"><span>  y_var_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>beta1 <span class="op">=</span> <span class="fl">25</span>, beta2 <span class="op">=</span> <span class="fl">0</span>, J <span class="op">=</span> <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"constant"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  x_var_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>beta1 <span class="op">=</span> <span class="fl">20</span>, beta2 <span class="op">=</span> <span class="fl">0</span>, J <span class="op">=</span> <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"constant"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">power_result</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># More complex: heteroscedastic errors</span></span></span>
<span class="r-in"><span><span class="va">power_result2</span> <span class="op">&lt;-</span> <span class="fu">deming_power_sim</span><span class="op">(</span></span></span>
<span class="r-in"><span>  n_sims <span class="op">=</span> <span class="fl">500</span>,</span></span>
<span class="r-in"><span>  sample_size <span class="op">=</span> <span class="fl">75</span>,</span></span>
<span class="r-in"><span>  x_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  actual_slope <span class="op">=</span> <span class="fl">1.03</span>,</span></span>
<span class="r-in"><span>  y_var_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>beta1 <span class="op">=</span> <span class="fl">0.5</span>, beta2 <span class="op">=</span> <span class="fl">0.05</span>, J <span class="op">=</span> <span class="fl">2</span>, type <span class="op">=</span> <span class="st">"power"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  x_var_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>beta1 <span class="op">=</span> <span class="fl">0.4</span>, beta2 <span class="op">=</span> <span class="fl">0.04</span>, J <span class="op">=</span> <span class="fl">2</span>, type <span class="op">=</span> <span class="st">"power"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  weighted <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Aaron Caldwell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

